<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta productName="viewport" content="width=device-width, initial-scale=1.0">
    <title>테스트</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script type="text/javascript">
        const acaoUrl = "https://cors-anywhere.herokuapp.com/";
        const baseUrl = "http://openapi.11st.co.kr/openapi/OpenApiService.tmall";
        const apiKey = "d31cb5254083f025e9231e22960e7e14";
        let keyword = "xnote";
        let url = acaoUrl + baseUrl
            + "?key=" + apiKey
            + "&apiCode=ProductSearch&keyword=" + keyword;

        $(document).ready(function () {
            console.log("ready");
            $("#btnSearch").on("click", function () {
                $.ajax({
                    method: "GET",
                    datatype: "xml",
                    url: url,
                    success: function(xml){
                        $(xml).find("Product").each(function(){
                            let productName = $(this).find("ProductName").text();
                            $("#productList").append("<li>"+productName+"</li>");
                        });
                    }
                });

                
            });
        });
    </script>
</head>

<body>
    <h1>Test HTML code</h1>
    <form method="post" action="/process/products">
        <input type="text" productName="searchKeyword" />
        <input type="button" id="btnSearch" value="검색" />
    </form>
    <div id="productList"></div>
</body>

</html>